<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Chat Widget Test</title>
    <link rel="stylesheet" href="css/ai-chat-widget.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 min-h-screen">
    <div class="container mx-auto p-8">
        <h1 class="text-3xl font-bold mb-8">AI Chat Widget Test Page</h1>

        <!-- Simulated form elements for testing -->
        <div class="bg-white p-6 rounded-lg shadow-lg mb-8">
            <h2 class="text-xl font-semibold mb-4">Form Elements (for context testing)</h2>

            <!-- Prompt textarea -->
            <div class="mb-4">
                <label class="block text-sm font-medium mb-2">Prompt:</label>
                <textarea id="prompt-textarea"
                    class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                    rows="4"
                    placeholder="Enter your prompt here...">beautiful sunset over mountains</textarea>
            </div>

            <!-- Checkboxes -->
            <div class="grid grid-cols-2 gap-4 mb-4">
                <label class="flex items-center">
                    <input type="checkbox" name="mashup" class="mr-2">
                    <span>Mashup</span>
                </label>
                <label class="flex items-center">
                    <input type="checkbox" name="mixup" class="mr-2">
                    <span>Mixup</span>
                </label>
                <label class="flex items-center">
                    <input type="checkbox" name="multiplier" class="mr-2">
                    <span>Multiplier</span>
                </label>
                <label class="flex items-center">
                    <input type="checkbox" name="auto-enhance" class="mr-2">
                    <span>Auto Enhance</span>
                </label>
            </div>

            <!-- Guidance slider -->
            <div class="mb-4">
                <label class="block text-sm font-medium mb-2">Guidance: <span id="guidance-value">7.5</span></label>
                <input type="range" name="guidance" min="1" max="20" step="0.5" value="7.5"
                    class="w-full" id="guidance-slider">
            </div>

            <!-- Model checkboxes -->
            <div class="mb-4">
                <label class="block text-sm font-medium mb-2">Models:</label>
                <div class="grid grid-cols-3 gap-2">
                    <label class="flex items-center">
                        <input type="checkbox" name="models" value="flux" class="mr-2">
                        <span>Flux</span>
                    </label>
                    <label class="flex items-center">
                        <input type="checkbox" name="models" value="dalle" class="mr-2">
                        <span>DALL-E</span>
                    </label>
                    <label class="flex items-center">
                        <input type="checkbox" name="models" value="midjourney" class="mr-2">
                        <span>Midjourney</span>
                    </label>
                </div>
            </div>

            <!-- Owner select -->
            <div class="mb-4">
                <label class="block text-sm font-medium mb-2">Visibility:</label>
                <select name="owner" class="p-2 border border-gray-300 rounded-lg">
                    <option value="user">Private</option>
                    <option value="site">Public</option>
                </select>
            </div>
        </div>

        <!-- Image container for testing -->
        <div class="bg-white p-6 rounded-lg shadow-lg mb-8">
            <h2 class="text-xl font-semibold mb-4">Image Container (for context testing)</h2>
            <div id="image-container-main" class="grid grid-cols-2 gap-4">
                <div class="bg-gray-200 h-32 rounded-lg flex items-center justify-center">
                    <span class="text-gray-500">Sample Image 1</span>
                </div>
                <div class="bg-gray-200 h-32 rounded-lg flex items-center justify-center">
                    <span class="text-gray-500">Sample Image 2</span>
                </div>
            </div>
        </div>

        <!-- User info simulation -->
        <div class="bg-white p-6 rounded-lg shadow-lg mb-8">
            <h2 class="text-xl font-semibold mb-4">User Context (simulated)</h2>
            <div class="grid grid-cols-2 gap-4">
                <div>
                    <span class="font-medium">Username:</span>
                    <span id="user-username">testuser</span>
                </div>
                <div>
                    <span class="font-medium">Credits:</span>
                    <span id="user-credits">45</span>
                </div>
            </div>
        </div>

        <!-- Instructions -->
        <div class="bg-blue-50 p-6 rounded-lg">
            <h2 class="text-xl font-semibold mb-4 text-blue-800">How to Test</h2>
            <ol class="list-decimal list-inside space-y-2 text-blue-700">
                <li>Click the blue robot button in the bottom-right corner</li>
                <li>Try asking: "help", "show my settings", "enhance my prompt", "generate an image"</li>
                <li>Click the interactive buttons that appear in the chat</li>
                <li>Modify the form elements above and ask the AI about your settings</li>
                <li>Check the browser console to see the context data being sent</li>
            </ol>
        </div>
    </div>

    <!-- Include the AI Chat Widget -->
    <script src="js/components/ai-chat-widget.js"></script>

    <!-- Update guidance value display -->
    <script>
        document.getElementById('guidance-slider').addEventListener('input', function() {
            document.getElementById('guidance-value').textContent = this.value;
        });
    </script>
</body>
</html>
