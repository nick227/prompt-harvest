<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Image Generator Widget - Example</title>
    <link rel="stylesheet" href="css/ai-image-generator-widget.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 2rem;
            background: #f5f5f5;
        }
        .example-section {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        .example-section h2 {
            margin-top: 0;
            color: #333;
        }
        .example-section p {
            color: #666;
            margin-bottom: 1.5rem;
        }
        .generated-image-display {
            margin-top: 1rem;
            padding: 1rem;
            background: #f9f9f9;
            border-radius: 8px;
            border: 1px solid #e0e0e0;
            text-align: center;
        }
        .generated-image-display img {
            max-width: 200px;
            border-radius: 8px;
            margin-bottom: 1rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body>
    <h1>AI Image Generator Widget Examples</h1>

    <div class="example-section">
        <h2>Default Profile Avatar Generator</h2>
        <p>This is the standard widget used for generating profile avatars with full features.</p>
        <div id="profile-avatar-example"></div>
        <div id="profile-result" class="generated-image-display" style="display: none;">
            <h3>Generated Avatar:</h3>
            <img id="profile-result-img" src="" alt="Generated avatar">
            <p><strong>Prompt:</strong> <span id="profile-result-prompt"></span></p>
            <p><strong>Provider:</strong> <span id="profile-result-provider"></span></p>
        </div>
    </div>

    <div class="example-section">
        <h2>Compact General Image Generator</h2>
        <p>A more compact version for general image generation with minimal UI.</p>
        <div id="compact-example"></div>
        <div id="compact-result" class="generated-image-display" style="display: none;">
            <h3>Generated Image:</h3>
            <img id="compact-result-img" src="" alt="Generated image">
            <p><strong>Prompt:</strong> <span id="compact-result-prompt"></span></p>
        </div>
    </div>

    <div class="example-section">
        <h2>Minimal Generator</h2>
        <p>A minimal version with no cost display and no retry option.</p>
        <div id="minimal-example"></div>
        <div id="minimal-result" class="generated-image-display" style="display: none;">
            <h3>Generated Image:</h3>
            <img id="minimal-result-img" src="" alt="Generated image">
        </div>
    </div>

    <script type="module">
        import { AIImageGenerator } from './js/components/ai-image-generator.js';

        // Profile Avatar Generator
        const profileGenerator = AIImageGenerator.createProfileAvatarGenerator(
            'profile-avatar-example',
            (data) => {
                console.log('Profile avatar generated:', data);
                document.getElementById('profile-result-img').src = data.imageUrl;
                document.getElementById('profile-result-prompt').textContent = data.prompt;
                document.getElementById('profile-result-provider').textContent = data.provider;
                document.getElementById('profile-result').style.display = 'block';
            }
        );

        // Compact Generator
        const compactGenerator = AIImageGenerator.createCompactGenerator(
            'compact-example',
            (data) => {
                console.log('Compact image generated:', data);
                document.getElementById('compact-result-img').src = data.imageUrl;
                document.getElementById('compact-result-prompt').textContent = data.prompt;
                document.getElementById('compact-result').style.display = 'block';
            }
        );

        // Minimal Generator
        const minimalGenerator = AIImageGenerator.createMinimalGenerator(
            'minimal-example',
            (data) => {
                console.log('Minimal image generated:', data);
                document.getElementById('minimal-result-img').src = data.imageUrl;
                document.getElementById('minimal-result').style.display = 'block';
            }
        );

        // Handle errors
        [profileGenerator, compactGenerator, minimalGenerator].forEach(generator => {
            generator.getWidget().on('error', (error) => {
                console.error('Generator error:', error);
                alert('Error: ' + error.message);
            });
        });
    </script>
</body>
</html>
